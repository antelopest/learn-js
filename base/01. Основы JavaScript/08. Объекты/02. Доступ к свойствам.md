# Доступ к свойствам (dot notation, bracket notation)

В JavaScript доступ к свойствам объектов осуществляется двумя основными способами: точечной нотацией (dot notation) и
квадратной нотацией (bracket notation).

Оба метода имеют свои особенности и сценарии использования.

## Точечная нотация (Dot Notation)

Точечная нотация — это наиболее распространенный и читаемый способ доступа к свойствам объекта, если имя свойства
является валидным идентификатором (например, состоит из букв, цифр, подчеркиваний, но не начинается с цифры и не
содержит пробелы или специальные символы).

### Синтаксис

```js
objectName.propertyName
```

### Пример

```js
const person = {
    name: 'John',
    age: 30,
    city: 'New York'
};

console.log(person.name);
console.log(person.age);

person.city = 'London';
console.log(person.city);
```

### Особенности

* Быстрая и лаконичная запись
* Работает только с именами свойств, которые являются валидными идентификаторами JavaScript.
* Нельзя использовать, если имя свойства содержит пробелы, специальные символы или начинается с цифры (например,
  person.123 или person.first name вызовет ошибку).

## Квадратная нотация (Bracket Notation)

Квадратная нотация позволяет обращаться к свойствам объекта, используя строки или выражения. Это метод более гибкий, так
как позволяет работать с любыми именами свойств, включая невалидные идентификаторы.

### Синтаксис

```js
objectName['propertyName']
```

### Пример

```js
const person = {
    "first name": "John",
    "age": 30,
    "2city": 'New York'
};

console.log(person['first name']);
console.log(person['age']);
console.log(person['2city']);

person['first name'] = "Sam";
console.log(person['first name']);
```

### Динамический доступ

Квадратная нотация позволяет использовать переменные для доступа к свойствам.

```js
const person = {
    name: 'John',
    age: 30,
    city: 'New York'
};

const propertyName = 'age';

console.log(person[propertyName]);
```

### Особенности

* Работает с любыми именами свойств, включая те, что содержат пробелы, специальные символы или начинаются с цифр.
* Позволяет динамически вычислять имя свойства (например, через переменную или выражение).
* Менее читаема, чем точечная нотация, но более универсальная.

## Когда использовать

* **Точечная нотация**: если имя свойства известно заранее и явления валидным идентификатором.
* **Квадратная нотация:** если имя свойства содержит проблемы, специальные символы, начинается с цифры или определяется
  динамически (например, через переменную).

## Практические примеры

### Работа с невалидными идентификаторами

```js
const user = {
    "first-name": "John",
    "last name": "Doe"
};

console.log(user["first-name"]); // John
console.log(user["last name"]); // Doe
```

### Динамический доступ к свойствам

```js
const car = {
    brand: "Toyota",
    model: "Camry",
    year: 2020
};

const properties = ["brand", "model", "year"];

properties.forEach(property => {
    console.log(car[property]);
});
```

### Использование вычисляемых имен свойств

```js
const prefix = "user_";

const usr = {
    [prefix + "name"]: "John",
    [prefix + "age"]: 30
};

console.log(user["user_name"]); // John
console.log(user["user_age"]); // 30
```

## Частые ошибки и нюансы

### Ошибка с точечной нотацией

```
console.log(person.first name); // SyntaxError : Unexpected identifier
```

**Решение:** Использовать `person['first name']`;

### Попытка доступа к несуществующему свойству

```js
console.log(person.address); // undefined
console.log(person["address"]); // undefined
```

**Решение:** Проверяйте существование свойства с помощью `in` или `hasOwnProperty`.

```js
if ("address" in person) {
    console.log(person.address);
} else {
    console.log("Свойство address не существует");
}
```

### Использование переменной с точечной нотацией

```js
const prop = "name";
console.log(person.prop); // undefined (ищет свойство "prop", а не "name")
```

**Решение:** Использовать квадратную нотацию: `person[prop]`

## Итог

* Точечная нотация (`object.property`) — удобна для статических, валидных имен свойств.
* Квадратная нотация (`object["property"]`) - универсальна, подходит для динамического доступа и невалидных
  идентификаторов.
* Выбор между ними зависит от структуры объекта и контекста использования.
# Создание объектов, свойства, методы

В JavaScript создание объектов, их свойства и методы — это основа объектно-ориентированного программирования.
Рассмотрим ключевые аспекты этой темы.

## Создание объектов

Объекты в JavaScript — это коллекции пар "ключ — значение", где ключи — это строки (или Symbol), а значения могут быть
любого типа,
включая другие объекты или функции. Существует несколько способов создания объектов:

### Объектный литерал

Самый простой способ создания объекта.

```js
const person = {
    name: "Алексей",
    age: 30,
    greet: function () {
        console.log(`Привет, я ${this.name}!`);
    }
}
```

### Конструктор Object

Используется для создания пустого объекта с последующим добавлением свойств.

```js
const person = new Object();

person.name = "Алексей";
person.age = 30;

person.greet = function () {
    console.log(`Привет, я ${this.name}!`);
}
```

### Функция конструктор

Позволяет создавать объекты с помощью шаблона:

```js
function Person(name, age) {
    this.name = name;
    this.age = age;

    this.greet = function () {
        console.log(`Привет, я ${this.name}`);
    }
}

const person1 = new Person("Алексей", 30);
const person2 = new Person("Мария", 25);
```

### Классы (ES6)

Современный синтаксис для создания объектов.

```js
class Person {
    constructor(name, age) {
        this.name;
        this.age;
    }

    greet() {
        console.log(`Привет, я ${this.name}!`);
    }
}

const person1 = new Person("Алексей", 30);
```

### Object.create

Создает объект с указанным прототипом

```js
const proto = {
    greet: function () {
        console.log(`Привет, я ${this.name}!`);
    }
};

const person = Object.create(proto);

person.name = "Алексей";
person.age = 30;
```

## Свойства объектов

Свойства — это данные, связанные с объектом. Они могут быть:

* Примитивными: строки, числа, булевы значения и т.д.
* Ссылочными: объекты, массивы, функции.
* Динамическими: свойства можно добавлять или удалять в любой момент.

Пример добавления и удаления свойств:

```js
const person = {name: "Алексей"};

person.age = 30; // Добавление свойства
delete person.age; // Удаление свойства
```

### Геттеры и сеттеры

Используются для контроля доступа к свойствам

```js
const person = {
    _name: "Алексей",

    get name() {
        return this._name;
    },

    set name(value) {
        this._name = value.toUpperCase();
    }
}

console.log(person.name); // АЛЕКСЕЙ
person.name = "Мария";
console.log(person.name); // МАРИЯ
```

## Методы объектов

Методы — это функции, которые являются свойствами объекта. Они позволяют объектам выполнять действия.

### Обычные методы

```js
const person = {
    name: "Алексей",
    greet() {
        console.log(`Привет, я ${this.name}!`);
    }
}

person.greet();
```

### Стрелочные функции

Стрелочные функции в методах не имею собственного this, а наследуют его из внешнего контекста.

```js
const person = {
    name: "Алексей",
    greet: () => {
        console.log(`Привет, я ${this.name}!`);
    }
}

person.greet(); // Привет, я undefined!
```

### Методы в классах

Классы предоставляют более структурированный способ определения методов.

```js
class Person {
    constructor(name) {
        this.name = name;
    }

    greet() {
        console.log(`Привет, я ${this.name}!`);
    }
}
```

## Работа с объектами

* Доступ к свойствам:
    * Через точку: `person.name`
    * Через квадратные скобки `person["name"]`
* Проверка существования свойства:
    * console.log("name" in person); // true
    * console.log(person.hasOwnProperty("name")); // true
* Итерация по свойствам:

```js
for (let key in person) {
    console.log(`${key}: ${person[key]}`);
}
```

* Копирование объектов:

```js
const copy = {...person}; // Поверхностное копирование
const deepCopy = JSON.parse(JSON.stringify(person)); // Глубокое копирование
```

## Прототипы и наследование

Каждый объект в JavaScript имеет прототип, от которого он наследует свойства и методы.
Прототипы позволяют реализовать наследование.

Пример:

```js
function Animal(name) {
    this.name = name;
}

Animal.prototype.say = function () {
    console.log(`${this.name} издает звук`);
}

function Dog(name) {
    Animal.call(this, name);
}

Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.bark = function () {
    console.log(`${this.name} гавкает!`);
}

const dog = new Dog("Рекс");
dog.say(); // Рекс издает звук
dog.bark(); // Рекс гавкает!
```

## Полезные методы объекта

* Object.keys(obj) — возвращает массив ключей
* Object.values(obj) — возвращает массив значений
* Object.entries(obj) — возвращает массив пар [ключ, значение]
* Object.assign(target, source) — копирует свойства из одного объекта в другой
* Object.freeze(obj) — замораживает объект (нельзя изменять свойства)
* Object.seal(obj) — запечатывает объект (нельзя добавлять/удалять свойства, но можно изменять существующие)

## Пример комплексного объекта

```js
class User {
    constructor(name, age) {
        this.name = name;
        this._age = age;
    }

    get age() {
        return this._age;
    }

    set age(value) {
        if (value >= 0) this._age = value;
    }

    greet() {
        console.log(`Привет, я ${this.name}, мне ${this.age} лет!`);
    }

    static createGuest() {
        return new User("Гость", 0);
    }
}

const user = new User("Алексей", 30);
user.greet(); // Привет, я Алексей, мне 30 лет!

const guest = User.createGuest();
guest.greet(); // Привет, я Гость, мне 0 лет!
```

## Итог

Объекты в JavaScript — мощный инструмент для структурирования данных и поведения.
Вы можете использовать объектные литералы, конструкторы, классы или Object.create для создания.
Свойства и методы позволяют объектам быть гибкими и функциональными, а прототипы обеспечиваю наследование.

# Преобразование типов (явное и неявное)

В JavaScript преобразование типов (type coercion) — это процесс приведения одного типа данных к другому. Оно может быть
явным (когда вы сами указываете преобразование) или неявным (когда JavaScript автоматически преобразует типы).

## Явное преобразование типов

Явное преобразование — это когда разработчик сам указывает, как преобразовать значение в нужный тип с помощью встроенных
функций или методов.

### Основные способы явного преобразования:

#### В число

* `Number()`

```js
let str = "123";
let num = Number(str); // 123 (number)
console.log(Number("abc")); // NaN
```

* `parseInt()` и `parseFloat()`

```js
console.log(parseInt("123.45")); // 123
console.log(parseFloat("123.45")); // 123.45
```

#### В строку

* `String()`

```js
let num = 42;
let str = String(num); // 42 (string)
```

* Метод `.toString()`

```js
let num = 42;
console.log(num.toString()); // 42 (string)
```

#### В булево значение

* `Boolean()`

```js
console.log(Boolean(0)); // false
console.log(Boolean("Hello")); // true
```

#### Унарный плюс (`+`)

* Преобразует строку в число

```js
let str = "123";
let num = +str; // 123 (number)
```

#### Двойное отрицание (`!!`)

* Преобразует значение в булево

```js
let value = "hello";
console.log(!!value); // true
```

#### Пример явного и неявного преобразования:

```js
let a = "100";
let b = 50;

// Неявное преобразование
console.log(a + b); // 10050 (число 50 преобразуется в строку)

// Явное преобразование
console.log(Number(a) + b); // 150 (строка 100 преобразуется в число)
```

### Проблемы и рекомендации

* Неоднозначность:
* Используйте ===
* Явное лучше неявного
* Осторожно с NaN

## Неявное преобразование типов

## Правила преобразования типов

### Практический пример

```js
function calculateTotal(price, quantity) {
    // Явное преобразование для надежности
    const priceNumber = Number(price);
    const quantityNumber = Number(quantity);

    if (isNaN(priceNumber) || isNaN(quantityNumber)) {
        return "Invalid input";
    }

    return priceNumber * quantityNumber;
}


console.log(calculateTotal("100", "2")); // 200
console.log(calculateTotal("abc", "2.5")); // Invalid input
```

### Ключевые моменты

* Неявное преобразование происходит автоматически, но может быть непредсказуемым.
* Явное преобразование делает код более читаемым и предсказуемым.
* Используйте функции `Number()`, `String()`, `Boolean()`, `parseInt()`, `parseFloat()` для явного контроля типов.
* Избегайте оператора `==`, используйте `===` для строгого сравнения.
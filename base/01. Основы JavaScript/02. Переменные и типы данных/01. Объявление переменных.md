# Объявление переменных: let, const, var

В JavaScript переменные объявляются с помощью ключевых слов var, let и const.
Каждое из них имеет свои особенности, область видимости и поведение.

## var

* Описание: Ключевое слово для объявления переменных, использовалось в JavaScript до ES6 (2015).
* Особенности:
    * Область видимости: Функциональная (переменная доступа внутри функции) или глобальная (если объявлена вне функции).
    * Поднятие (Hosting): Объявления поднимаются в начало области видимости, но без инициализации (значение
      `undefined`).
    * Переобъявление: Можно переобъявлять переменную в той же области видимости.
    * Переприсваивание: Значение можно менять.

```js
var x = 5;
var x = 10; // Переобъявление разрешено

console.log(x); // 10

function test() {
    var y = 20;
    console.log(y); // 20
}

test();
console.log(y); // ReferenceError: y is not defined (функциональная область видимости)

console.log(z); // undefined (hoisting)
var z = 30;
```

* Проблемы:
    * Возможность переобъявления может приводить к ошибкам.
    * Hoisting может запутывать код (доступ к переменной до ее объявления).
    * Глобальные переменные, объявленные через var, добавляются в объект window (в браузере).
* Когда использовать: В современном JavaScript var редко используется из-за недостатков. Предпочтительны let и const.

## let

* Описание: Введено в ES6 для объявления переменных с блочной область видимости.
* Особенности:
    * Область видимости: Блочная (переменная доступна только внутри блока {} - например, в циклах или условиях).
    * Поднятие (Hoisting): Переменные поднимаются, но не инициализируются (доступ до объявления вызывает
      ReferenceError - Temporal Dead Zode, TDZ).
    * Переобъявление: Запрещено в той же области видимости.
    * Переприсваивание: Значение можно менять.

```js
let a = 5;
a = 10; // Переприсваивание разрешено
// let a = 15; // SyntaxError: Identifier 'a' has already been declared.

if (true) {
    let b = 20;
    console.log(b); // 20
}

console.log(b); // ReferenceError: b is not defined (блочная область видимости)
console.log(c); // ReferenceError: Cannot access 'c' before initialization
let c = 30;
```

* Когда использовать: Для переменных, значение которых будет меняться, и когда нужна блочная область видимости.

## const

* Описание: Введено в ES6 для объявления констант, значения которых нельзя переприсваивать.
* Особенности:
    * Область видимости: блочная, как у let.
    * Поднятие (hoisting): Поднимается, но с TDZ (доступ до объявления вызывает ReferenceError).
    * Переобъявление: Запрещено.
    * Переприсваивание: Запрещено, но для объектов/массивов можно изменять их содержимое (константа защищает ссылку, а
      не содержимое).
    * Обязательная инициализация: Нельзя объявить без начального значения.

```js
const x = 5;

// x = 10; // TypeError: Assignment to constant variable
// const x = 15; // SyntaxError: Identifier 'x' has already been declared

const obj = {name: "Alice"};

obj.name = "Bob"; // Разрешено, меняется содержимое объекта
console.log(obj.name); // "Bob"
// obj = {}; // TypeError: Assignment to constanet variable

if (true) {
    const y = 20;
    console.log(y); // 20
}

console.log(y); // ReferenceError: y is not defined

// console.log(z); // ReferenceError: Cannot access 'z' before initialization
const z = 30;
```

* Когда использовать: Для значений, которые не должны меняться, или для объектов/массивов, где нужно защитить ссылку, но
  можно менять содержимое.

### Сравнение var, let, const:

| Характеристики             | var                       | let       | const     |
|----------------------------|---------------------------|-----------|-----------|
| Область видимости          | Функциональная/глобальная | Блочная   | Блочная   |
| Hoisting                   | Да, с undefined           | Да, c TDZ | Да, c TDZ |
| Переобъявление             | Разрешено                 | Запрещено | Запрещено |
| Переприсваивание           | Разрешено                 | Разрешено | Запрещено |
| Обязательная инициализация | Нет                       | Нет       | Да        |
| Добавление в window        | Да (в глобальной области) | Нет       | Нет       |

### Рекомендации:

* Используйте const по умолчанию: Это защищает от случайного изменения и делает код предсказуемым.
* Используйте let, если переменная будет переприсваиваться.
* Избегайте var: Устаревший синтаксис с проблемами в области видимости и hoisting.
* Совет: Всегда явно объявляйте переменные, чтобы избежать глобальных переменных (например, x = 5 без ключевого слова
  добавляет x в window).

```js
function example() {
    var x = 1;
    let y = 2;
    const z = 3;

    if (true) {
        var x = 10;
        let y = 20;
        const z = 30;

        console.log(x, y, z); // 10, 20, 30
    }

    console.log(x, y, z); // 10, 2, 3
}

example();
```
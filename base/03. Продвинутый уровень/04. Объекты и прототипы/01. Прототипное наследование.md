# Прототипное наследование

В JavaScript объекты могут наследовать свойства и методы друг у друга через так называемую prototype chain (цепочку
прототипов).

Каждый объект имеет скрытое свойство `[[Prototype]]` или` (__proto__)`, которое указывает на другой объект.
Если у объекта нет собственного свойства, поиск идет вверх по цепочке прототипов.

## Пример работы цепочки

```js
const animal = {
    eats: true,
    walk() {
        console.log("Walking");
    }
};

const dog = {
    bark() {
        console.log("Bark");
    }
};

dog.__proto__ = animal;

console.log(dog.eats); // true

dog.walk(); // "Walking"
dog.bark(); // "Bark"
```

* dog не имеет свойства eats, поэтому идет поиск в animal.
* Если и там бы не нашли — поиск продолжился бы дальше по цепочке.

## Свойство prototype у функций-конструкторов

У каждой функции-конструктора есть свойство prototype.

Оно используется для создания новых объектов через new.

```js
function Animal(name) {
    this.name = name;
}

Animal.prototype.sayHi = function () {
    console.log(`Hi, I'am ${this.name}`);
}

const cat = new Animal("Kitty");
cat.sayHi(); // "Hi, I am Kitty"
```

* При вызове `new Animal("Kitty")` создается объект cat
* Его `__proto__ `автоматически указывает на `Animal.prototype`.

## Цепочка прототипов

```js
console.log(cat.__proto__ === Animal.prototype); // true
console.log(Animal.prototype.__proto__ === Object.prototype); // true
console.log(Object.prototype.__proto__ === null); // true
```

Итого:

cat -> Animal.prototype -> Object.prototype -> null

## class и наследование

Современный синтаксис `class` делает то же самое, но удобнее.

```js
class Animal {
    constructor(name) {
        this.name = name;
    }

    sayHi() {
        console.log(`Hi, I'am ${this.name}`
    }
}

class Dog extends Animal {
    bark() {
        console.log("Bark");
    }
}

const rex = new Dog("Rex");
rex.sayHi(); // "Hi, I am Rex"
rex.bark(); // "Bark"
```

* Dog.prototype.__proto__ === Animal.prototype
* Dog.__proto__ === Animal

## Ключевые моменты

* `__proto__` — это ссылка на прототип объекта (устаревший способ, но часто встречается).
* `Object.create(proto)` — современный способ создать объект с нужным прототипом.
* `prototype` у функции — это объект, который будет прототипом у всех экземпляров, созданных через new.
* `class` — синтаксический сахар над прототипным наследованием.